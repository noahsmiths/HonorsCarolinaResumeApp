(this["webpackJsonphonors-carolina-resume-app"]=this["webpackJsonphonors-carolina-resume-app"]||[]).push([[0],{195:function(e,t,n){},224:function(e,t,n){},225:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(24),o=n.n(i),c=(n(195),n(115)),l=n(6),s=n(5),d=n(297),u=n(316),j=n(1);var m=n(311),h=n(318),b=n(75),p=n.n(b),f="https://honor-carolina-resume-backend-rnarveka.apps.cloudapps.unc.edu/resumes/";function O(){return p.a.get(f)}function x(e){var t=e.resume,n=r.a.useState(""),a=Object(l.a)(n,2),i=a[0],o=a[1],c=r.a.useState(""),s=Object(l.a)(c,2),b=s[0],f=s[1],O=[];return 0!==t.comments.length?t.comments.forEach((function(e){O.push(Object(j.jsxs)(u.a,{id:"modal-modal-title",variant:"p",component:"p",children:[Object(j.jsx)("strong",{children:e.name}),": ",e.comment]}))})):O.push(Object(j.jsx)(u.a,{id:"modal-modal-title",variant:"h6",component:"h2",children:Object(j.jsx)("strong",{children:"There are no comments for this resume."})})),Object(j.jsxs)(d.a,{sx:{position:"absolute",height:500,width:550,overflowY:"scroll",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24},style:{margin:"auto"},children:[Object(j.jsx)(u.a,{id:"modal-modal-title",variant:"h2",component:"h2",pl:2,pb:1,pt:2,pr:2,children:t.name}),Object(j.jsx)(d.a,{pr:2,pl:2,children:Object(j.jsx)("iframe",{title:"resume",src:t.link,height:"200",width:"500",style:{padding:2}})}),Object(j.jsx)(u.a,{id:"modal-modal-title",variant:"h4",component:"h4",pl:2,pb:1,pt:2,pr:2,children:"Comments"}),Object(j.jsx)(d.a,{id:"comment-holder",pr:2,pl:2,children:O}),Object(j.jsx)(u.a,{id:"modal-modal-title",variant:"h6",component:"h6",pl:2,pb:1,pt:2,pr:2,security:"",children:"New Comment"}),Object(j.jsxs)(d.a,{pr:2,pl:2,children:[Object(j.jsx)(m.a,{id:"commenter",label:"Name",variant:"outlined",size:"small",pr:2,onInput:function(e){return o(e.target.value)}}),Object(j.jsx)(m.a,{id:"message",label:"Comment",variant:"outlined",size:"small",onInput:function(e){return f(e.target.value)}})]}),Object(j.jsx)(d.a,{p:2,children:Object(j.jsx)(h.a,{onClick:function(){(function(e,t,n){return p.a.put("https://honor-carolina-resume-backend-rnarveka.apps.cloudapps.unc.edu/comment/"+e,{name:t,comment:n})})(t._id,i,b).then((function(e){O.push(Object(j.jsxs)(u.a,{id:"modal-modal-title",variant:"h6",component:"h2",children:[Object(j.jsx)("strong",{children:i}),": ",b]}))}))},color:"inherit",p:2,children:"Post"})})]})}var g=n(319),v=n(320),S=n(321),w=n(312),C=n(322),k=n(314),N=n(307),y=n(88),P=n(158),R=n.n(P),z=n(157),I=n.n(z),L=n(68),A=n(48);var M=Object(L.b)(),T=Object(A.a)((function(e){var t;return{root:{padding:e.spacing(.5,.5,0),justifyContent:"space-between",display:"flex",alignItems:"flex-start",flexWrap:"wrap"},textField:(t={},Object(s.a)(t,e.breakpoints.down("xs"),{width:"100%"}),Object(s.a)(t,"margin",e.spacing(1,.5,1.5)),Object(s.a)(t,"& .MuiSvgIcon-root",{marginRight:e.spacing(.5)}),Object(s.a)(t,"& .MuiInput-underline:before",{borderBottom:"1px solid ".concat(e.palette.divider)}),t)}}),{defaultTheme:M});function E(e){var t=T();return Object(j.jsxs)("div",{className:t.root,children:[Object(j.jsx)(u.a,{mt:2,mb:2,pb:3,id:"modal-modal-title",variant:"h6",component:"h5",children:"Search"}),Object(j.jsx)(m.a,{variant:"standard",value:e.value,onChange:e.onChange,placeholder:"Search\u2026",className:t.textField,InputProps:{startAdornment:Object(j.jsx)(I.a,{fontSize:"small"}),endAdornment:Object(j.jsx)(g.a,{title:"Clear","aria-label":"Clear",size:"small",style:{visibility:e.value?"visible":"hidden"},onClick:e.clearSearch,children:Object(j.jsx)(R.a,{fontSize:"small"})})}})]})}function B(){var e=r.a.useState({privacy:!1}),t=Object(l.a)(e,2),n=t[0],a=t[1],i=n.privacy,o=r.a.useState(!1),b=Object(l.a)(o,2),P=b[0],R=b[1],z=r.a.useState(!0),I=Object(l.a)(z,2),L=I[0],A=I[1],M=r.a.useState(!1),T=Object(l.a)(M,2),B=T[0],F=T[1],_=function(){return G(!1)},D=r.a.useState(!1),U=Object(l.a)(D,2),J=U[0],G=U[1],H=r.a.useState(!1),V=Object(l.a)(H,2),$=V[0],K=V[1],W=r.a.useState(!1),Y=Object(l.a)(W,2),q=Y[0],Q=Y[1],X=function(){return Q(!1)},Z=function(){return K(!0)},ee=function(){K(!1),Pe(null),le(null),Ce("pending"),je(null),pe(null),ge(null)},te=r.a.useState(!1),ne=Object(l.a)(te,2),ae=ne[0],re=ne[1],ie=r.a.useState(null),oe=Object(l.a)(ie,2),ce=oe[0],le=oe[1],se=r.a.useState(null),de=Object(l.a)(se,2),ue=de[0],je=de[1],me=r.a.useState(null),he=Object(l.a)(me,2),be=he[0],pe=he[1],fe=r.a.useState(null),Oe=Object(l.a)(fe,2),xe=Oe[0],ge=Oe[1],ve=r.a.useState("pending"),Se=Object(l.a)(ve,2),we=Se[0],Ce=Se[1],ke=r.a.useState(null),Ne=Object(l.a)(ke,2),ye=Ne[0],Pe=Ne[1],Re=r.a.useState(""),ze=Object(l.a)(Re,2),Ie=ze[0],Le=ze[1],Ae=function(e,t){Le(e);var n=new RegExp(e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i");if("student"===t){var a=Ee.filter((function(e){return Object.keys(e).some((function(t){return n.test(e[t].toString())}))}));Ve(a)}else if("approved"===t){var r=Ee.filter((function(e){return Object.keys(e).some((function(t){return n.test(e[t].toString())}))}));Ye(r)}else{var i=De.filter((function(e){return Object.keys(e).some((function(t){return n.test(e[t].toString())}))}));Ze(i)}},Me=r.a.useState(null),Te=Object(l.a)(Me,2),Ee=Te[0],Be=Te[1],Fe=r.a.useState(null),_e=Object(l.a)(Fe,2),De=_e[0],Ue=_e[1],Je=r.a.useState(),Ge=Object(l.a)(Je,2),He=Ge[0],Ve=Ge[1],$e=r.a.useState(Ee),Ke=Object(l.a)($e,2),We=Ke[0],Ye=Ke[1],qe=r.a.useState(De),Qe=Object(l.a)(qe,2),Xe=Qe[0],Ze=Qe[1],et=r.a.useState(null),tt=Object(l.a)(et,2),nt=tt[0],at=tt[1],rt=r.a.useState(null),it=Object(l.a)(rt,2),ot=it[0],ct=it[1],lt=r.a.useState(null),st=Object(l.a)(lt,2),dt=st[0],ut=st[1],jt=r.a.useState(""),mt=Object(l.a)(jt,2),ht=mt[0],bt=mt[1];r.a.useEffect((function(){fetch("/user/affiliation").then((function(e){return e.json()})).then((function(e){bt(e.userAffiliation)}),(function(e){bt("error")}))}),[]);var pt=function(){O().then((function(e){var t=[];e.data.forEach((function(e){t.push({id:e._id,role:e._role})})),at([{id:"62103d57f5d6c38b682beef5",firstName:"Jack",lastName:"Benson",role:1,roleName:"Student"},{id:"62103de1f5d6c38b682beef6",firstName:"Ron",lastName:"Johnson",role:2,roleName:"Reviewer"},{id:"62103df5f5d6c38b682beef7",firstName:"Foo",lastName:"Barson",role:3,roleName:"Administrator"},{id:"62103e10f5d6c38b682beef8",firstName:"Kevin",lastName:"Guskiewicz",role:4,roleName:"Super User"}])}))},ft=function(){O().then((function(e){var t=[],n=[];e.data.forEach((function(e){"approved"===e.approved?t.push({id:e._id,name:e.name,major:e.major,resume:e.link,tags:e.tags}):n.push({id:e._id,name:e.name,major:e.major,resume:e.link})})),Be(t),Ve(t),Ye(t),Ue(n),Ze(n)}))},Ot=function(){var e;(e=ot,p.a.delete(f+e)).then((function(e){ct(null),ft()}))},xt=function(){var e;(e=ot,p.a.put(f+e,{approved:"approved"})).then((function(e){ct(null),ft()}))},gt=function(){(function(e){try{return p.a.get(f+e)}catch(t){return t.response}})(ot).then((function(e){ut(e.data),re(!0)}))},vt=function(){(function(e,t,n,a,r){return p.a.post(f,{name:e,link:t,major:n,tags:a,approved:r})})(ce,ue,be,xe,we).then((function(e){ee(),ft()})).catch((function(e){Pe("Please ensure that name, link, major, comma or space separated tags, and appropriate status is set for resumes!")}))},St=function(){X()},wt={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4,"& > :not(style)":{m:1,width:"25ch"}},Ct=[{field:"id",headerName:"ID",width:100},{field:"name",headerName:"Name",width:150},{field:"major",headerName:"Major",width:200},{field:"resume",headerName:"Resume",width:275,renderCell:function(e){return Object(j.jsxs)("strong",{children:[Object(j.jsx)(h.a,{variant:"contained",size:"small",style:{marginLeft:16},onClick:gt,target:"_blank",children:"View"}),Object(j.jsx)(h.a,{variant:"contained",size:"small",style:{marginLeft:16},onClick:xt,children:"Accept"}),Object(j.jsx)(h.a,{variant:"contained",size:"small",style:{marginLeft:16},onClick:Ot,children:"Reject"})]})}}],kt=[{field:"id",headerName:"ID",width:100},{field:"name",headerName:"Name",width:150},{field:"major",headerName:"Major",width:200},{field:"resume",headerName:"Resume",width:195,renderCell:function(e){return Object(j.jsxs)("strong",{children:[Object(j.jsx)(h.a,{variant:"contained",size:"small",onClick:gt,target:"_blank",style:{marginLeft:16},children:"View"}),Object(j.jsx)(h.a,{variant:"contained",size:"small",style:{marginLeft:16},onClick:Ot,children:"Delete"})]})}},{field:"tags",headerName:"Tags",width:400}],Nt=[{field:"id",headerName:"ID",width:100},{field:"firstName",headerName:"FIRST",width:150},{field:"lastName",headerName:"LAST",width:150},{field:"role",headerName:"ROLE",width:150},{field:"roleName",headerName:"CHANGE ROLE",width:300,renderCell:function(e){return Object(j.jsxs)("strong",{children:[Object(j.jsx)(h.a,{variant:"contained",size:"small",style:{marginLeft:16},onClick:St,children:"Promote"}),Object(j.jsx)(h.a,{variant:"contained",size:"small",style:{marginLeft:16},onClick:St,children:"Demote"})]})}}],yt=[{field:"id",headerName:"ID",width:100},{field:"name",headerName:"Name",width:150},{field:"major",headerName:"Major",width:200},{field:"resume",headerName:"Resume",width:195,renderCell:function(e){return Object(j.jsx)("strong",{children:Object(j.jsx)(h.a,{onClick:gt,target:"_blank",variant:"contained",size:"small",style:{marginLeft:16},children:"View"})})}},{field:"tags",headerName:"Tags",width:400}];return r.a.useEffect((function(){ft()}),[]),Object(j.jsxs)("div",{children:[Object(j.jsxs)("header",{children:[Object(j.jsx)(v.a,{children:Object(j.jsxs)(S.a,{children:[Object(j.jsx)(g.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},children:Object(j.jsx)(N.a,{})}),Object(j.jsx)(u.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Honors Carolina Resume App"}),Object(j.jsx)(h.a,{onClick:P||L?function(){R(!1),A(!1),F(!1)}:function(){return G(!0)},color:"inherit",title:"loginButton",children:P||L?"Logout (".concat(ht,")"):"Login"})]})}),Object(j.jsx)(w.a,{open:J,onClose:_,children:Object(j.jsxs)(d.a,{sx:wt,component:"form",children:[Object(j.jsx)(u.a,{id:"modal-modal-title",variant:"h6",component:"h2",children:"Login"}),Object(j.jsx)(m.a,{id:"user",label:"Username",variant:"outlined"}),Object(j.jsx)(m.a,{id:"pass",label:"Password",variant:"outlined",type:"password"}),Object(j.jsx)(h.a,{onClick:function(){ft(),_(),R(!0)},color:"inherit",children:"Admin"}),Object(j.jsx)(h.a,{onClick:function(){ft(),_(),A(!0),Ce("pending")},color:"inherit",children:"Student"}),Object(j.jsx)(h.a,{onClick:function(){pt(),_(),F(!0)},color:"inherit",children:"SuperUser"})]})}),Object(j.jsx)(w.a,{open:$,onClose:ee,children:Object(j.jsxs)(d.a,{sx:wt,component:"form",children:[Object(j.jsx)(u.a,{id:"modal-modal-title",variant:"h6",component:"h2",children:" New Resume "}),Object(j.jsx)(m.a,{id:"name",label:"Name",variant:"outlined",onInput:function(e){return le(e.target.value)}}),Object(j.jsx)(m.a,{id:"link",label:"Resume Link",variant:"outlined",onInput:function(e){return je(e.target.value)}}),Object(j.jsx)(m.a,{id:"tag",label:"Tags",variant:"outlined",onInput:function(e){return ge(e.target.value)}}),P&&Object(j.jsx)(m.a,{id:"status",label:"Approved/Pending",variant:"outlined",onInput:function(e){return Ce(e.target.value)}}),B&&Object(j.jsx)(m.a,{id:"status",label:"Approved/Pending",variant:"outlined",onInput:function(e){return Ce(e.target.value)}}),Object(j.jsx)(m.a,{id:"major",label:"Major",variant:"outlined",onInput:function(e){return pe(e.target.value)}}),L&&Object(j.jsx)(C.a,{control:Object(j.jsx)(k.a,{checked:i,onChange:function(e){a(Object(c.a)(Object(c.a)({},n),{},Object(s.a)({},e.target.name,e.target.checked)))},name:"privacy"}),label:"By checking this box you agree to all privacy policies."}),ye&&Object(j.jsx)(u.a,{color:"common.red",children:ye}),P&&Object(j.jsx)(h.a,{onClick:vt,color:"inherit",children:"Post Resume"}),L&&Object(j.jsx)(h.a,{disabled:!i,onClick:vt,color:"inherit",children:"Post Resume"})]})}),Object(j.jsx)(w.a,{open:q,onClose:X,children:Object(j.jsxs)(d.a,{sx:wt,component:"form",children:[ye&&Object(j.jsx)(u.a,{color:"common.red",children:ye}),Object(j.jsx)(h.a,{onClick:St,color:"inherit",children:"Update Role"})]})})]}),Object(j.jsx)(w.a,{open:ae,onClose:function(){return re(!1)},children:Object(j.jsx)(x,{resume:dt})}),L&&Object(j.jsxs)(d.a,{m:6,pl:4,pr:4,children:[Object(j.jsx)(d.a,{mt:2,mb:2,pt:4,children:Object(j.jsx)(h.a,{onClick:Z,color:"inherit",children:"Add Resume"})}),Object(j.jsx)(u.a,{mt:2,mb:2,pb:3,id:"modal-modal-title",variant:"h6",component:"h5",children:"Student Resumes"}),null!=Ee&&Object(j.jsx)("div",{style:{height:400,width:"100%"},children:Object(j.jsx)(y.a,{components:{Toolbar:E},rows:null==He?Ee:He,columns:yt,pageSize:5,rowsPerPageOptions:[5],checkboxSelection:!0,onSelectionModelChange:function(e){ct(e[e.length-1])},pb:2,componentsProps:{toolbar:{value:Ie,onChange:function(e){return Ae(e.target.value,"student")},clearSearch:function(){return Ae("","student")}}}})})]}),P&&Object(j.jsxs)(d.a,{m:6,pl:4,pr:4,children:[Object(j.jsx)(d.a,{mt:2,mb:2,pt:4,children:Object(j.jsx)(h.a,{onClick:Z,color:"inherit",children:"Add Resume"})}),Object(j.jsx)(u.a,{mt:2,mb:2,pb:3,id:"modal-modal-title",variant:"h6",component:"h5",children:"Approved Resumes"}),null!=Ee&&Object(j.jsx)("div",{style:{height:400,width:"100%"},children:Object(j.jsx)(y.a,{components:{Toolbar:E},rows:null==We?Ee:We,columns:kt,pageSize:5,owsPerPageOptions:[5],checkboxSelection:!0,onSelectionModelChange:function(e){ct(e[e.length-1])},pb:2,componentsProps:{toolbar:{value:Ie,onChange:function(e){return Ae(e.target.value,"approved")},clearSearch:function(){return Ae("","approved")}}}})}),Object(j.jsx)(u.a,{mt:2,mb:2,pb:3,pt:3,id:"modal-modal-title",variant:"h6",component:"h5",children:"Pending Resumes"}),null!=De&&Object(j.jsx)("div",{style:{height:400,width:"100%"},children:Object(j.jsx)(y.a,{components:{Toolbar:E},rows:null==Xe?De:Xe,columns:Ct,pageSize:5,rowsPerPageOptions:[5],checkboxSelection:!0,onSelectionModelChange:function(e){ct(e[e.length-1])},pb:2,componentsProps:{toolbar:{value:Ie,onChange:function(e){return Ae(e.target.value,"pending")},clearSearch:function(){return Ae("","pending")}}}})})]}),B&&Object(j.jsxs)(d.a,{m:6,pl:4,pr:4,children:[Object(j.jsx)("br",{}),Object(j.jsx)(u.a,{mt:2,mb:2,pb:3,id:"modal-modal-title",variant:"h6",component:"h5",children:"Users"}),null!=nt&&Object(j.jsx)("div",{style:{height:400,width:"100%"},children:Object(j.jsx)(y.a,{rows:nt,columns:Nt,pageSize:5,owsPerPageOptions:[5],checkboxSelection:!0,onSelectionModelChange:function(e){ct(e[e.length-1])},pb:2})})]}),Object(j.jsx)("footer",{children:Object(j.jsxs)(d.a,{bgcolor:"#2196f3",color:"white",pl:4,pr:4,children:[Object(j.jsx)(d.a,{ml:2,mr:2,borderBottom:1,p:1,children:Object(j.jsx)(u.a,{mt:2,id:"modal-modal-title",variant:"h6",component:"h5",children:"About"})}),Object(j.jsx)(d.a,{ml:2,mr:2,pl:1,pr:1,children:"COMP 523 Project"}),Object(j.jsx)(d.a,{ml:2,mr:2,pl:1,pr:1,pb:3,children:"Client: Honors Carolina"})]})})]})}var F=n(310);n(224);var _=function(){return Object(j.jsx)(F.a,{children:Object(j.jsx)(B,{})})},D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,326)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),i(e),o(e)}))};o.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(_,{})}),document.getElementById("root")),D()}},[[225,1,2]]]);
//# sourceMappingURL=main.ddabf78c.chunk.js.map